<section class="calendar">
  <h1 class="calendar__header">Calendario <span class="calendar__header__accent">F1</span></h1>

  @if (loading) {
    <div class="calendar__loader">
      <div class="calendar__loader__spinner"></div>
    </div>
  } @else {
    
    <div class="calendar__list">
      @for (circuit of circuits; track circuit.id) {
        
        <article class="calendar__list__item" 
                 [class.calendar__list__item--finished]="isFinished(circuit.fecha_carrera!)">
          
          <div class="calendar__list__item__date">
            <span class="calendar__list__item__date__day">{{ circuit.fecha_carrera | date:'dd' }}</span>
            <span class="calendar__list__item__date__month">{{ circuit.fecha_carrera | date:'MMM' }}</span>
          </div>

          <div class="calendar__list__item__info">
            <h2 class="calendar__list__item__info__name">{{ circuit.nombre }}</h2>
            <p class="calendar__list__item__info__location"><i class="bi bi-geo-fill"></i> {{ circuit.ciudad }}, {{ circuit.pais }}</p>
          </div>

          <div class="calendar__list__item__map">
             <img [src]="circuit.trazado" [alt]="circuit.nombre" class="calendar__list__item__map__img">
          </div>

          <div class="calendar__list__item__status">
             @if (isFinished(circuit.fecha_carrera!)) {
               <span class="calendar__list__item__status__label">Finalizado</span>
             }
          </div>

        </article>
      }
    </div>
  }
</section>